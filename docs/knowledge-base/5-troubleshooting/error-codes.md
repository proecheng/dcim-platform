# 错误代码速查

> 系统错误代码及解决方案快速参考

---

## 错误代码格式

```
错误代码格式: [模块]-[类型][序号]

模块:
├── AUTH  - 认证模块
├── DEV   - 设备模块
├── ALM   - 告警模块
├── ENG   - 能源模块
├── PROP  - 节能方案模块
├── RL    - 强化学习模块
└── SYS   - 系统模块

类型:
├── E - Error (错误)
├── W - Warning (警告)
└── I - Info (信息)
```

---

## 认证模块 (AUTH)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| AUTH-E001 | 用户名或密码错误 | 检查账号密码，或联系管理员重置 |
| AUTH-E002 | Token已过期 | 重新登录获取新Token |
| AUTH-E003 | Token无效 | 清除浏览器缓存，重新登录 |
| AUTH-E004 | 账号被锁定 | 联系管理员解锁，或等待30分钟自动解锁 |
| AUTH-E005 | 权限不足 | 联系管理员分配相应权限 |
| AUTH-W001 | 密码即将过期 | 建议立即修改密码 |

---

## 设备模块 (DEV)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| DEV-E001 | 设备不存在 | 检查设备ID是否正确 |
| DEV-E002 | 设备离线 | 检查设备网络连接和通信配置 |
| DEV-E003 | 设备通信超时 | 检查网络状况，或增加超时时间 |
| DEV-E004 | 设备配置无效 | 检查设备参数配置是否正确 |
| DEV-E005 | 设备控制失败 | 检查设备状态和控制权限 |
| DEV-W001 | 设备响应延迟 | 网络负载高，可忽略或检查网络 |
| DEV-W002 | 设备数据异常 | 检查传感器或采集器状态 |

---

## 告警模块 (ALM)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| ALM-E001 | 告警规则无效 | 检查告警规则配置，修正语法错误 |
| ALM-E002 | 告警处理失败 | 检查告警状态和处理权限 |
| ALM-E003 | 告警通知发送失败 | 检查通知配置（邮件/短信服务） |
| ALM-W001 | 告警数量过多 | 建议调整阈值或启用告警屏蔽 |
| ALM-W002 | 重复告警 | 同一告警短时间内多次触发，检查阈值 |
| ALM-I001 | 告警已自动恢复 | 仅通知，无需处理 |

---

## 能源模块 (ENG)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| ENG-E001 | 能耗数据缺失 | 检查数据采集服务是否正常运行 |
| ENG-E002 | PUE计算失败 | 检查IT能耗和总能耗数据是否完整 |
| ENG-E003 | 电价配置无效 | 检查电价时段配置是否有重叠或缺失 |
| ENG-E004 | 需量超限 | 立即采取削峰措施，检查负荷分配 |
| ENG-E005 | 负荷转移失败 | 检查设备配置和转移条件 |
| ENG-W001 | 数据采集延迟 | 采集服务负载高，可暂时忽略 |
| ENG-W002 | PUE偏高 | 建议检查制冷系统效率 |
| ENG-W003 | 峰时用电占比高 | 建议配置负荷转移策略 |

---

## 节能方案模块 (PROP)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| PROP-E001 | 方案不存在 | 检查方案ID是否正确 |
| PROP-E002 | 方案生成失败 | 检查历史数据是否充足（需30天+） |
| PROP-E003 | 措施执行失败 | 查看执行日志获取详细原因 |
| PROP-E004 | 方案已被接受，无法修改 | 如需修改，请先取消接受状态 |
| PROP-E005 | 参数超出有效范围 | 检查措施参数配置 |
| PROP-E006 | 基准采集失败 | 检查设备通信状态 |
| PROP-W001 | 方案收益偏低 | 当前能耗特征优化空间有限 |
| PROP-W002 | 达成率低于预期 | 建议查看效果监测分析原因 |
| PROP-I001 | 方案已自动过期 | 超过有效期未执行，已归档 |

---

## RL模块 (RL)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| RL-E001 | RL优化器不可用 | 检查ML服务是否启动 |
| RL-E002 | 模型加载失败 | 检查模型文件是否存在 |
| RL-E003 | 训练数据不足 | 需要更多执行反馈数据 |
| RL-E004 | 状态向量维度不匹配 | 系统升级后可能发生，联系技术支持 |
| RL-W001 | 探索率过高 | 模型仍在学习阶段，建议审慎采纳 |
| RL-W002 | 连续负奖励 | 建议人工检查优化建议 |
| RL-W003 | 模型长时间未更新 | 建议触发一次训练更新 |
| RL-I001 | 检查点已保存 | 模型状态已持久化 |

---

## 系统模块 (SYS)

| 代码 | 描述 | 解决方案 |
|------|------|----------|
| SYS-E001 | 数据库连接失败 | 检查数据库服务状态 |
| SYS-E002 | 服务内部错误 | 查看后端日志获取详情 |
| SYS-E003 | 请求参数无效 | 检查API请求参数格式 |
| SYS-E004 | 资源不存在 | 检查请求的资源ID |
| SYS-E005 | 并发冲突 | 稍后重试，或刷新页面 |
| SYS-E006 | 文件上传失败 | 检查文件大小和格式限制 |
| SYS-W001 | 系统负载较高 | 响应可能变慢，建议稍后操作 |
| SYS-W002 | 存储空间不足 | 联系管理员清理或扩容 |
| SYS-I001 | 系统维护通知 | 按通知时间安排操作 |

---

## HTTP状态码参考

| 状态码 | 含义 | 常见原因 |
|--------|------|----------|
| 400 | Bad Request | 请求参数错误 |
| 401 | Unauthorized | 未登录或Token过期 |
| 403 | Forbidden | 权限不足 |
| 404 | Not Found | 资源不存在 |
| 405 | Method Not Allowed | HTTP方法错误 |
| 422 | Unprocessable Entity | 参数验证失败 |
| 429 | Too Many Requests | 请求过于频繁 |
| 500 | Internal Server Error | 服务器内部错误 |
| 502 | Bad Gateway | 代理服务异常 |
| 503 | Service Unavailable | 服务暂时不可用 |
| 504 | Gateway Timeout | 请求超时 |

---

## 快速排查流程

```
发现错误
    │
    ├── 记录错误代码和描述
    │
    ├── 查本表找解决方案
    │     │
    │     ├── 找到 → 按方案处理
    │     │
    │     └── 未找到 → 继续
    │
    ├── 检查网络连接
    │
    ├── 检查服务状态
    │     └── 后端: http://localhost:8080/health
    │
    ├── 查看浏览器控制台
    │     └── F12 → Console/Network
    │
    ├── 查看后端日志
    │     └── backend/logs/app.log
    │
    └── 联系技术支持
          └── 提供: 错误代码 + 操作步骤 + 截图
```

---

## 相关文档

- [常见问题 FAQ](./faq.md)
- [性能优化](./performance-tuning.md)
- [问题反馈渠道](../index.md#获取帮助)
